import{a as A,c as F,f as P,h as U,b as V}from"../chunks/XvOnY9g9.js";import{o as W}from"../chunks/E2FwkTaF.js";import{t as Y,h as L,a as O,b as Z,c as z,d as R,g as G,f as K,H as Q,s as X,i as w,p as ee,j as ae,k as o,l as se,m as H,n as m,$ as te,o as b,v as k,w as D}from"../chunks/CwHlDrme.js";import{b as N}from"../chunks/DgBsqP4M.js";import{c as r,a,b as E,d as i,g as j,H as re}from"../chunks/DfXZ8HZd.js";function J(M,$,u=!1,c=!1,e=!1){var _=M,p="";Y(()=>{var d=Z;if(p===(p=$()??"")){L&&O();return}if(d.nodes_start!==null&&(z(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),p!==""){if(L){R.data;for(var t=O(),h=t;t!==null&&(t.nodeType!==8||t.data!=="");)h=t,t=G(t);if(t===null)throw K(),Q;A(R,h),_=X(t);return}var f=p+"";u?f=`<svg>${f}</svg>`:c&&(f=`<math>${f}</math>`);var v=F(f);if((u||c)&&(v=w(v)),A(w(v),v.lastChild),u||c)for(;w(v);)_.before(w(v));else _.before(v)}})}var le=P('<div class="input"><div id="outputHistory"><pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"><!></pre></div> <span class="prompt"><!></span> <span class="cmd-input break-all text-gray-200"><!></span></div>');function ve(M,$){ee($,!0);let u,c,e=se(0);W(()=>{const s=localStorage.getItem("MESh_commandHistory");if(s)try{r.value=JSON.parse(s)}catch(l){console.error(l),r.value=[]}else r.value=[];window.onload=()=>{window.addEventListener("keydown",l=>{l.preventDefault(),_();const n=a.value.trim(),g=n.split(" ");switch(l.key){case"Backspace":o(e)>0&&(a.value=a.value.slice(0,o(e)-1)+a.value.slice(o(e)),H(e,-1));break;case"Delete":o(e)<a.value.length&&(a.value=a.value.slice(0,o(e))+a.value.slice(o(e)+1));break;case"Enter":const I=j();u.innerHTML+=`<pre class="text-gray-200 font-[Jetbrains_Mono]">${I} ${n}</pre>`,n&&(r.value.push(n),r.value.length>re&&r.value.shift(),localStorage.setItem("MESh_commandHistory",JSON.stringify(r.value))),i.value=-1;const x=p(g[0],g.slice(1));g[0]!="clear"&&g[0]!=""&&g[0]!="cd"&&(u.innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${x}</pre>`),a.value="",m(e,0);break;case"ArrowLeft":o(e)>0&&H(e,-1);break;case"ArrowRight":o(e)<a.value.length&&H(e);break;case"ArrowUp":r.value.length>0&&(i.value===-1?i.value=r.value.length-1:i.value>0&&i.value--,a.value=r.value[i.value],m(e,a.value.length,!0));break;case"ArrowDown":r.value.length>0&&i.value!==-1&&(i.value<r.value.length-1?(i.value++,a.value=r.value[i.value]):(i.value=-1,a.value=""),m(e,a.value.length,!0));break;case"Home":m(e,0);break;case"End":m(e,a.value.length,!0);break;case"Escape":a.value="",m(e,0);break;case"Tab":if(g.length==1&&n){const y=Object.keys(E).filter(q=>q.startsWith(n));y.length===1?(a.value=y[0]+" ",m(e,a.value.length,!0)):y.length>1?u.innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Suggestions: ${y.join(", ")}</pre>`:u.innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">No suggestions found for "${n}"</pre>`}break;default:l.key.length==1&&(a.value=a.value.slice(0,o(e))+l.key+a.value.slice(o(e)),H(e));break}})}});function _(){requestAnimationFrame(()=>{c==null||c.scrollIntoView({behavior:"smooth",block:"end"})})}function p(s,l=[]){return s in E?E[s].cmd(l):`MESh: command not found: <span class="text-red-400 font-semibold">${s}</span>`}function d(s,l){const n=Math.max(0,Math.min(l,s.length));return l===s.length?s+'<span class="bg-gray-300 text-black animate-[pulse_1s_ease_infinite]">&nbsp</span>':s.slice(0,n)+`<span class="bg-gray-300 text-black animate-[pulse_1s_ease_infinite]">${s[n]}</span>`+s.slice(n+1)}var t=le();U(s=>{te.title="MESh - v0.0.1"});var h=b(t),f=b(h),v=b(f);J(v,()=>p("banner")),k(f),k(h),N(h,s=>u=s,()=>u);var S=D(h,2),B=b(S);J(B,j),k(S);var T=D(S,2),C=b(T);J(C,()=>d(a.value,o(e))),k(T),k(t),N(t,s=>c=s,()=>c),V(M,t),ae()}export{ve as component};
