import{f as J,a as D}from"../chunks/C4ixZ-OR.js";import{s as Y,h as H,P as Ee,a6 as Te,a as ke,b as de,D as p,ab as pe,r as Me,c as He,d as se,e as G,i as N,a1 as Se,f as me,g as ee,p as we,a4 as ge,_ as Ce,G as O,ac as le,ad as Q,K as ne,ae as $e,af as Ie,ag as Ne,a3 as Ae,ah as Le,ai as he,aj as Re,ak as De,M as Je,E as Ke,al as Pe,j as ae,t as Z,l as te,m as A,n as C,o as L,u as U,q as K,R as B,Q as I,k as Be}from"../chunks/BPml94wr.js";import{s as V,e as Oe,d as Ve}from"../chunks/CwP-EkNs.js";import{i as ie}from"../chunks/BIlKjE9T.js";import"../chunks/RfJukRTa.js";import{i as _e}from"../chunks/-R8OLOWJ.js";import{f as P,c as R,p as q,r as z,e as M,g as Xe,H as qe,a as ze,b as Fe,d as We,t as X}from"../chunks/wSpvcZhX.js";import{p as $}from"../chunks/DixHsiyZ.js";import{o as Ye}from"../chunks/BM3mTV8b.js";import{g as j,a as Ge}from"../chunks/Db8OuANQ.js";function oe(i,e){return e}function Qe(i,e,a,l){for(var d=[],t=e.length,f=0;f<t;f++)Ne(e[f].e,d,!0);var m=t>0&&d.length===0&&a!==null;if(m){var g=a.parentNode;Ae(g),g.append(a),l.clear(),w(i,e[0].prev,e[t-1].next)}Le(d,()=>{for(var h=0;h<t;h++){var s=e[h];m||(l.delete(s.k),w(i,s.prev,s.next)),he(s.e,!m)}})}function ue(i,e,a,l,d,t=null){var f=i,m={flags:e,items:new Map,first:null};{var g=i;f=H?Y(Ee(g)):g.appendChild(Te())}H&&ke();var h=null,s=!1,_=pe(()=>{var r=a();return Ce(r)?r:r==null?[]:ge(r)});de(()=>{var r=p(_),v=r.length;if(s&&v===0)return;s=v===0;let c=!1;if(H){var S=Me(f)===He;S!==(v===0)&&(f=se(),Y(f),G(!1),c=!0)}if(H){for(var b=null,u,x=0;x<v;x++){if(N.nodeType===8&&N.data===Se){f=N,c=!0,G(!1);break}var T=r[x],E=l(T,x);u=be(N,m,b,null,T,E,x,d,e,a),m.items.set(E,u),b=u}v>0&&Y(se())}H||Ue(r,m,f,d,e,l,a),t!==null&&(v===0?h?me(h):h=ee(()=>t(f)):h!==null&&we(h,()=>{h=null})),c&&G(!0),p(_)}),H&&(f=N)}function Ue(i,e,a,l,d,t,f){var m=i.length,g=e.items,h=e.first,s=h,_,r=null,v=[],c=[],S,b,u,x;for(x=0;x<m;x+=1){if(S=i[x],b=t(S,x),u=g.get(b),u===void 0){var T=s?s.e.nodes_start:a;r=be(T,e,r,r===null?e.first:r.next,S,b,x,l,d,f),g.set(b,r),v=[],c=[],s=r.next;continue}if(Ze(u,S,x),(u.e.f&Q)!==0&&me(u.e),u!==s){if(_!==void 0&&_.has(u)){if(v.length<c.length){var E=c[0],k;r=E.prev;var re=v[0],F=v[v.length-1];for(k=0;k<v.length;k+=1)ve(v[k],E,a);for(k=0;k<c.length;k+=1)_.delete(c[k]);w(e,re.prev,F.next),w(e,r,re),w(e,F,E),s=E,r=F,x-=1,v=[],c=[]}else _.delete(u),ve(u,s,a),w(e,u.prev,u.next),w(e,u,r===null?e.first:r.next),w(e,r,u),r=u;continue}for(v=[],c=[];s!==null&&s.k!==b;)(s.e.f&Q)===0&&(_??(_=new Set)).add(s),c.push(s),s=s.next;if(s===null)continue;u=s}v.push(u),r=u,s=u.next}if(s!==null||_!==void 0){for(var W=_===void 0?[]:ge(_);s!==null;)(s.e.f&Q)===0&&W.push(s),s=s.next;var xe=W.length;if(xe>0){var ye=m===0?a:null;Qe(e,W,ye,g)}}ne.first=e.first&&e.first.e,ne.last=r&&r.e}function Ze(i,e,a,l){Ie(i.v,e),i.i=a}function be(i,e,a,l,d,t,f,m,g,h){var s=(g&Re)!==0,_=(g&De)===0,r=s?_?O(d,!1,!1):le(d):d,v=(g&$e)===0?f:le(f),c={i:v,v:r,k:t,a:null,e:null,prev:a,next:l};try{return c.e=ee(()=>m(i,r,v,h),H),c.e.prev=a&&a.e,c.e.next=l&&l.e,a===null?e.first=c:(a.next=c,a.e.next=c.e),l!==null&&(l.prev=c,l.e.prev=c.e),c}finally{}}function ve(i,e,a){for(var l=i.next?i.next.e.nodes_start:a,d=e?e.e.nodes_start:a,t=i.e.nodes_start;t!==l;){var f=Je(t);d.before(t),t=f}}function w(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function je(i,e,...a){var l=i,d=Pe,t;de(()=>{d!==(d=e())&&(t&&(he(t),t=null),t=ee(()=>d(l,...a)))},Ke),H&&(l=N)}function ea(i,e,a){var l=i==null?"":""+i;return l===""?null:l}function fe(i,e,a,l,d,t){var f=i.__className;if(H||f!==a||f===void 0){var m=ea(a);(!H||m!==i.getAttribute("class"))&&(m==null?i.removeAttribute("class"):i.className=m),i.__className=a}return t}var aa=J('<div id="top-bar" class="bg-neutral-950 rounded-lg border-1 border-gray-500 w-[98%] h-10 fixed top-2 left-1/2 translate-x-[-50%] flex items-center gap-2 pl-4 z-50"><span class="text-gray-500"> </span> <span class="text-gray-400">|</span> <span class="text-gray-400"> </span> <span class="text-gray-400 max-sm:hidden">|</span> <span class="text-gray-500 max-sm:hidden"> </span></div>');function ta(i,e){ae(e,!1),_e();var a=aa(),l=A(a),d=A(l);C(l);var t=L(l,4),f=A(t,!0);C(t);var m=L(t,4),g=A(m,!0);C(m),C(a),Z((h,s)=>{V(d,`#!${K(P),U(()=>P.SHELL)??""}`),V(f,h),V(g,s)},[()=>(K($),K(P),U(()=>$.url.pathname.split("/")[2]||P.TERM+" v"+P.VERSION)),()=>(K($),K(R),U(()=>$.url.pathname.split("/")[2]?"Ctrl + C to eXit":"Loaded ["+Object.keys(R).length+"] commands"))],pe),D(i,a),te()}var o=z(()=>ze),y=z(()=>We),n=z(()=>Fe),ce=z(()=>X),ra=J("<button> </button>"),sa=J('<div class="flex gap-1.5"></div>'),la=J("<div></div>");function na(i,e){ae(e,!1);let a=O(!1),l=O(!1),d=q.includes($.url.pathname.split("/")[2]),t=O();Ye(()=>{B(t,document.getElementById("outputHistory"))});const f=[["Esc","1","2","3","4","5","6","7","8","9","0","-","="],["Tab","q","w","e","r","t","y","u","i","o","p","[","]"],["Shift","a","s","d","f","g","h","j","k","l",";","'","\\"],["Home","End","z","x","c","v","b","n","m",",",".","/"],["Ctrl","←","↑","↓","→","Space","Enter","Back","Del"]],m=[["Esc","!","@","#","₹","%","^","&","*","(",")","_","+"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}"],["Shift","A","S","D","F","G","H","J","K","L",":",'"',"|"],["Home","Nether","Z","X","C","V","B","N","M","<",">","?"],["Ctrl","←","↑","↓","→","Space","Enter","Back","Del"]];_e();var g=la();ue(g,5,()=>p(a)?m:f,oe,(h,s)=>{var _=sa();ue(_,5,()=>p(s),oe,(r,v)=>{var c=ra(),S=A(c,!0);C(c),Z(()=>{c.disabled=p(v)=="Ctrl"||p(v)=="c"||p(v)=="C"?!1:p(l),fe(c,1,`${p(l)&&!(p(v)=="Ctrl"||p(v)=="c"||p(v)=="C")?"opacity-20 pointer-events-none":"opacity-100"} px-3 py-2 text-lg bg-neutral-950 border border-gray-400 rounded-lg text-gray-200 cursor-pointer`),V(S,p(v))}),Oe("click",c,()=>{const b=o().value.trim(),u=b.split(" ");switch(p(v)){case"Back":n().value>0&&(o(o().value=o().value.slice(0,n().value-1)+o().value.slice(n().value)),n(n().value--));break;case"Del":n().value<o().value.length&&o(o().value=o().value.slice(0,n().value)+o().value.slice(n().value+1));break;case"Enter":const x=Xe();I(t,p(t).innerHTML+=`<pre class="text-gray-200 font-[Jetbrains_Mono]">${x} ${b}</pre>`),b&&(M.value.push(b),M.value.length>qe&&M.value.shift(),localStorage.setItem("MESh_commandHistory",JSON.stringify(M.value))),y(y().value=-1);let T;u[0].startsWith("./")&&(q.includes(u[0].slice(2))?(ce(ce().value=!1),j(u[0].slice(2)),T=`MESh: launching program <span class="text-yellow-400 font-semibold">${u[0].slice(2)}</span>`):T=`MESh: program not found: <span class="text-red-400 font-semibold">${u[0].slice(2)}</span>`),u[0]in R?T=R[u[0]].cmd(u.slice(1)):T=`MESh: command not found: <span class="text-red-400 font-semibold">${u}</span>`,u[0]!="clear"&&u[0]!=""&&u[0]!="cd"&&I(t,p(t).innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${T}</pre>`),o(o().value=""),n(n().value=0);break;case"←":n().value>0&&n(n().value--);break;case"→":n().value<o().value.length&&n(n().value++);break;case"↑":M.value.length>0&&(y().value===-1?y(y().value=M.value.length-1):y().value>0&&y(y().value--),o(o().value=M.value[y().value]),n(n().value=o().value.length));break;case"↓":M.value.length>0&&y().value!==-1&&(y().value<M.value.length-1?(y(y().value++),o(o().value=M.value[y().value])):(y(y().value=-1),o(o().value="")),n(n().value=o().value.length));break;case"Home":n(n().value=0);break;case"Nether":case"End":n(n().value=o().value.length);break;case"Esc":o(o().value=""),n(n().value=0);break;case"Tab":if(u.length==1)if(b){const E=Object.keys(R).filter(k=>k.startsWith(b));E.length===1?(o(o().value=E[0]+" "),n(n().value=o().value.length)):E.length>1?I(t,p(t).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Suggestions: ${E.join(", ")}</pre>`):I(t,p(t).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">No suggestions found for "${b}"</pre>`)}else I(t,p(t).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Type 'help' for a list of commands</pre>`);break;case"Space":o(o().value=o().value.slice(0,n().value)+" "+o().value.slice(n().value)),n(n().value++);break;case"Shift":B(a,!p(a));break;case"Ctrl":B(l,!p(l));break;case"c":case"C":if(p(l))if(d)j("/");else{I(t,p(t).innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${R.exit.cmd([])}</pre>`),o(o().value=""),n(n().value=0),B(l,!1);return}default:p(v).length==1&&(o(o().value=o().value.slice(0,n().value)+p(v)+o().value.slice(n().value)),n(n().value++));break}}),D(r,c)}),C(_),D(h,_)}),C(g),Z(()=>fe(g,1,`flex flex-col gap-1.5 pt-4 ${d?"fixed overflow-x-auto bottom-4 max-md:w-screen max-md:left-0 max-md:mb-16 md:left-[50%] md:translate-x-[-50%]":"max-sm:mb-10"}`)),D(i,g),te()}var ia=J(`<div class="fixed bottom-4 left-4 text-yellow-400 text-lg z-[-1]">Press 'Ctrl + C'<br/>to eXit program</div>`),oa=J('<!> <!> <!> <!> <div class="flex justify-end"><button class="px-3 py-2 text-sm bg-neutral-950 border border-gray-400 rounded-lg text-gray-200 cursor-pointer fixed bottom-4 right-4">Toggle Keyboard</button></div>',1);function ba(i,e){ae(e,!0);function a(r){r.key=="c"&&r.ctrlKey&&j("/")}Ge(()=>{q.includes($.url.pathname.split("/")[2])&&window.addEventListener("keydown",a)});var l=oa(),d=Be(l);ta(d,{});var t=L(d,2);je(t,()=>e.children);var f=L(t,2);{var m=r=>{na(r,{})};ie(f,r=>{X.value&&r(m)})}var g=L(f,2);{var h=r=>{var v=ia();D(r,v)};ie(g,r=>{q.includes($.url.pathname.split("/")[2])&&r(h)})}var s=L(g,2),_=A(s);_.__click=()=>X.value=!X.value,C(s),D(i,l),te()}Ve(["click"]);export{ba as component};
