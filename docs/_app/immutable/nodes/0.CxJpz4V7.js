import"../chunks/Bzak7iHL.js";import{o as ke,s as Ce}from"../chunks/wXLI8w2A.js";import{c as te,h as A,Z as He,_ as se,a as Be,b as Ne,o as d,aw as Ie,r as Re,H as Ae,s as me,d as le,R as W,T as Le,ax as Oe,ay as ge,a1 as De,a5 as ie,a7 as Je,az as ce,ae as ze,aA as he,p as q,aB as Pe,aC as Ke,aD as Fe,aE as L,a2 as Ee,a4 as Te,aF as ne,U as Ve,aG as Ue,a3 as Xe,aH as Ge,M as de,i as z,t as X,k as J,O as pe,m as D,n as I,l as H,aI as Me,v as K,u as Y,j as We,x as P,A as be,aJ as Ye}from"../chunks/CLgYDTrq.js";import{i as ue}from"../chunks/aphj1UGp.js";import{s as Se}from"../chunks/D2V9E9ev.js";import{b as Ze}from"../chunks/etNz91Zm.js";import{g as x,c as F,h as oe,i as V,t as G,p as Q,r as ee,f as B,a as qe,H as Qe,b as je,d as ea,e as aa,j as _e,k as ra}from"../chunks/8V9BmeCs.js";import{p as j}from"../chunks/BsLURVQ8.js";import"../chunks/BvcyTcfG.js";import{i as ta}from"../chunks/BauU7rzF.js";import{g as fe,a as sa}from"../chunks/Bp1du6T6.js";function xe(e,i){return i}function la(e,i,t){for(var v=[],b=i.length,s,c=i.length,r=0;r<b;r++){let h=i[r];Te(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var y=e.outrogroups;ve(ce(s.done)),y.delete(s),y.size===0&&(e.outrogroups=null)}}else c-=1},!1)}if(c===0){var m=v.length===0&&t!==null;if(m){var l=t,g=l.parentNode;Ue(g),g.append(l),e.items.clear()}ve(i,!m)}else s={pending:new Set(i),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function ve(e,i=!0){for(var t=0;t<e.length;t++)Xe(e[t],i)}var ye;function $e(e,i,t,v,b,s=null){var c=e,r=new Map;{var m=e;c=A?te(He(m)):m.appendChild(se())}A&&Be();var l=null,g=Ie(()=>{var p=t();return ze(p)?p:p==null?[]:ce(p)}),h,y=!0;function u(){E.fallback=l,na(E,h,c,i,v),l!==null&&(h.length===0?(l.f&L)===0?Ee(l):(l.f^=L,U(l,null,c)):Te(l,()=>{l=null}))}var a=Ne(()=>{h=d(g);var p=h.length;let f=!1;if(A){var _=Re(c)===Ae;_!==(p===0)&&(c=me(),te(c),le(!1),f=!0)}for(var S=new Set,$=De,T=Je(),w=0;w<p;w+=1){A&&W.nodeType===Le&&W.data===Oe&&(c=W,f=!0,le(!1));var O=h[w],N=v(O,w),k=y?null:r.get(N);k?(k.v&&ge(k.v,O),k.i&&ge(k.i,w),T&&$.skipped_effects.delete(k.e)):(k=oa(r,y?c:ye??(ye=se()),O,N,w,b,i,t),y||(k.e.f|=L),r.set(N,k)),S.add(N)}if(p===0&&s&&!l&&(y?l=ie(()=>s(c)):(l=ie(()=>s(ye??(ye=se()))),l.f|=L)),A&&p>0&&te(me()),!y)if(T){for(const[ae,re]of r)S.has(ae)||$.skipped_effects.add(re.e);$.oncommit(u),$.ondiscard(()=>{})}else u();f&&le(!0),d(g)}),E={effect:a,items:r,outrogroups:null,fallback:l};y=!1,A&&(c=W)}function na(e,i,t,v,b){var N;var s=i.length,c=e.items,r=e.effect.first,m,l=null,g=[],h=[],y,u,a,E;for(E=0;E<s;E+=1){if(y=i[E],u=b(y,E),a=c.get(u).e,e.outrogroups!==null)for(const k of e.outrogroups)k.pending.delete(a),k.done.delete(a);if((a.f&L)!==0)if(a.f^=L,a===r)U(a,null,t);else{var p=l?l.next:r;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),R(e,l,a),R(e,a,p),U(a,p,t),l=a,g=[],h=[],r=l.next;continue}if((a.f&ne)!==0&&Ee(a),a!==r){if(m!==void 0&&m.has(a)){if(g.length<h.length){var f=h[0],_;l=f.prev;var S=g[0],$=g[g.length-1];for(_=0;_<g.length;_+=1)U(g[_],f,t);for(_=0;_<h.length;_+=1)m.delete(h[_]);R(e,S.prev,$.next),R(e,l,S),R(e,$,f),r=f,l=$,E-=1,g=[],h=[]}else m.delete(a),U(a,r,t),R(e,a.prev,a.next),R(e,a,l===null?e.effect.first:l.next),R(e,l,a),l=a;continue}for(g=[],h=[];r!==null&&r!==a;)(m??(m=new Set)).add(r),h.push(r),r=r.next;if(r===null)continue}(a.f&L)===0&&g.push(a),l=a,r=a.next}if(e.outrogroups!==null){for(const k of e.outrogroups)k.pending.size===0&&(ve(ce(k.done)),(N=e.outrogroups)==null||N.delete(k));e.outrogroups.size===0&&(e.outrogroups=null)}if(r!==null||m!==void 0){var T=[];if(m!==void 0)for(a of m)(a.f&ne)===0&&T.push(a);for(;r!==null;)(r.f&ne)===0&&r!==e.fallback&&T.push(r),r=r.next;var w=T.length;if(w>0){var O=s===0?t:null;la(e,T,O)}}}function oa(e,i,t,v,b,s,c,r){var m=(c&Ke)!==0?(c&Fe)===0?q(t,!1,!1):he(t):null,l=(c&Pe)!==0?he(b):null;return{v:m,i:l,e:ie(()=>(s(i,m??t,l??b,r),()=>{e.delete(v)}))}}function U(e,i,t){if(e.nodes)for(var v=e.nodes.start,b=e.nodes.end,s=i&&(i.f&L)===0?i.nodes.start:t;v!==null;){var c=Ve(v);if(s.before(v),v===b)return;v=c}}function R(e,i,t){i===null?e.effect.first=t:i.next=t,t===null?e.effect.last=i:t.prev=i}function ia(e,i,t){var v=e==null?"":""+e;return v===""?null:v}function C(e,i,t,v,b,s){var c=e.__className;if(A||c!==t||c===void 0){var r=ia(t);(!A||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):e.className=r),e.__className=t}return s}var ua=z('<div class="ml-auto pr-4 flex gap-2"><button type="button" title="Reload Mesh Terminal">üîÑ</button> <button type="button"> </button> <button type="button">Toggle Keyboard</button></div>'),fa=z('<div id="top-bar"><span> </span> <span>|</span> <span> </span> <span>|</span> <span> </span> <!></div>');function va(e,i){de(i,!0);let t=Me(()=>j.url.pathname.split("/")[2]);var v=fa(),b=D(v),s=D(b);I(b);var c=H(b,2),r=H(c,2),m=D(r,!0);I(r);var l=H(r,2),g=H(l,2),h=D(g,!0);I(g);var y=H(g,2);{var u=a=>{var E=ua(),p=D(E);p.__click=()=>location.reload();var f=H(p,2);f.__click=()=>V.value=!V.value;var _=D(f,!0);I(f);var S=H(f,2);S.__click=()=>G.value=!G.value,I(E),X(($,T,w,O,N,k,ae,re,we)=>{C(p,1,`p-3 text-sm rounded-md ${$??""} ${T??""} border ${w??""} cursor-pointer`),C(f,1,`p-3 text-sm rounded-md ${O??""} ${N??""} border ${k??""} cursor-pointer`),Se(f,"title",`${V.value?"Pause":"Play"} Radio`),K(_,V.value?"‚è∏Ô∏è":"‚ñ∂Ô∏è"),C(S,1,`p-3 text-sm rounded-md ${ae??""} ${re??""} border ${we??""} cursor-pointer`)},[()=>x().components.keyboardBg,()=>x().components.keyboardBorder,()=>x().text.primary,()=>x().components.keyboardBg,()=>x().components.keyboardBorder,()=>x().text.primary,()=>x().components.keyboardBg,()=>x().components.keyboardBorder,()=>x().text.primary]),J(a,E)};ue(y,a=>{d(t)||a(u)})}I(v),X((a,E,p,f,_,S,$,T)=>{C(v,1,`${a??""} rounded-lg border ${E??""} w-[98%] h-10 fixed top-2 left-1/2 translate-x-[-50%] flex items-center gap-2 pl-4 z-50`),C(b,1,`${p??""} max-sm:hidden`),K(s,`#!${oe.SHELL}`),C(c,1,`${f??""} max-sm:hidden`),C(r,1,_),K(m,d(t)||oe.TERM+" v"+oe.VERSION),C(l,1,`${S??""} max-sm:hidden`),C(g,1,`${$??""} max-sm:hidden`),K(h,T)},[()=>x().bg.topBar,()=>x().bg.topBarBorder,()=>x().components.topBarText,()=>x().text.secondary,()=>x().text.secondary,()=>x().text.secondary,()=>x().components.topBarText,()=>d(t)?"Ctrl + C to eXit":"Loaded ["+Object.keys(F).length+"] commands"]),J(e,v),pe()}Ge(["click"]);var o=ee(()=>je),M=ee(()=>aa),n=ee(()=>ea),Z=ee(()=>G),ca=z("<button> </button>"),da=z('<div class="flex gap-0.5 sm:gap-1.5"></div>'),pa=z("<div></div>");function ma(e,i){de(i,!1);let t=q(!1),v=q(!1),b=Q.includes(j.url.pathname.split("/")[2]),s=q();ke(()=>{Y(s,document.getElementById("outputHistory"))});const c=[["Esc","1","2","3","4","5","6","7","8","9","0","-","="],["Tab","q","w","e","r","t","y","u","i","o","p","[","]"],["Shift","a","s","d","f","g","h","j","k","l",";","'","\\"],["Home","End","z","x","c","v","b","n","m",",",".","/"],["Ctrl","‚Üê","‚Üë","‚Üì","‚Üí","Space","Enter","Back","Del"]],r=[["Esc","!","@","#","‚Çπ","%","^","&","*","(",")","_","+"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}"],["Shift","A","S","D","F","G","H","J","K","L",":",'"',"|"],["Home","Nether","Z","X","C","V","B","N","M","<",">","?"],["Ctrl","‚Üê","‚Üë","‚Üì","‚Üí","Space","Enter","Back","Del"]];ta();var m=pa();$e(m,5,()=>d(t)?r:c,xe,(l,g)=>{var h=da();$e(h,5,()=>d(g),xe,(y,u)=>{var a=ca(),E=D(a,!0);I(a),X((p,f,_)=>{a.disabled=d(u)=="Ctrl"||d(u)=="c"||d(u)=="C"?!1:d(v),C(a,1,`${d(v)&&!(d(u)=="Ctrl"||d(u)=="c"||d(u)=="C")?"opacity-20 pointer-events-none":"opacity-100"} py-2 px-2.5 sm:px-3 sm:py-2 text-sm sm:text-lg ${p??""} border ${f??""} rounded-lg ${_??""} cursor-pointer`),K(E,d(u))},[()=>x().components.keyboardBg,()=>x().components.keyboardBorder,()=>x().text.primary]),We("click",a,()=>{const p=o().value.trim(),f=p.split(" ");switch(d(u)){case"Back":n().value>0&&(o(o().value=o().value.slice(0,n().value-1)+o().value.slice(n().value)),n(n().value--));break;case"Del":n().value<o().value.length&&o(o().value=o().value.slice(0,n().value)+o().value.slice(n().value+1));break;case"Enter":const _=x(),S=qe();P(s,d(s).innerHTML+=`<pre class="${_.text.primary} font-[Jetbrains_Mono]">${S} ${p}</pre>`),p&&(B.value.push(p),B.value.length>Qe&&B.value.shift(),localStorage.setItem("MESh_commandHistory",JSON.stringify(B.value))),M(M().value=-1);let $;f[0].startsWith("./")&&(Q.includes(f[0].slice(2))?(Z(Z().value=!1),fe(f[0].slice(2)),$=`MESh: launching program <span class="${_.text.warning} font-semibold">${f[0].slice(2)}</span>`):$=`MESh: program not found: <span class="${_.text.error} font-semibold">${f[0].slice(2)}</span>`),f[0]in F?$=F[f[0]].cmd(f.slice(1)):$=`MESh: command not found: <span class="${_.text.error} font-semibold">${f}</span>`,f[0]!="clear"&&f[0]!=""&&f[0]!="cd"&&P(s,d(s).innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${$}</pre>`),o(o().value=""),n(n().value=0);break;case"‚Üê":n().value>0&&n(n().value--);break;case"‚Üí":n().value<o().value.length&&n(n().value++);break;case"‚Üë":B.value.length>0&&(M().value===-1?M(M().value=B.value.length-1):M().value>0&&M(M().value--),o(o().value=B.value[M().value]),n(n().value=o().value.length));break;case"‚Üì":B.value.length>0&&M().value!==-1&&(M().value<B.value.length-1?(M(M().value++),o(o().value=B.value[M().value])):(M(M().value=-1),o(o().value="")),n(n().value=o().value.length));break;case"Home":n(n().value=0);break;case"Nether":case"End":n(n().value=o().value.length);break;case"Esc":o(o().value=""),n(n().value=0);break;case"Tab":if(f.length==1)if(p){const T=Object.keys(F).filter(w=>w.startsWith(p));T.length===1?(o(o().value=T[0]+" "),n(n().value=o().value.length)):T.length>1?P(s,d(s).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Suggestions: ${T.join(", ")}</pre>`):P(s,d(s).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">No suggestions found for "${p}"</pre>`)}else P(s,d(s).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Type 'help' for a list of commands</pre>`);break;case"Space":o(o().value=o().value.slice(0,n().value)+" "+o().value.slice(n().value)),n(n().value++);break;case"Shift":Y(t,!d(t));break;case"Ctrl":Y(v,!d(v));break;case"c":case"C":if(d(v))if(b){Z(Z().value=!1),fe("/mesh-terminal/");break}else{P(s,d(s).innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${F.exit.cmd([])}</pre>`),o(o().value=""),n(n().value=0),Y(v,!1);break}default:d(u).length==1&&(o(o().value=o().value.slice(0,n().value)+d(u)+o().value.slice(n().value)),n(n().value++));break}}),J(y,a)}),I(h),J(l,h)}),I(m),X(()=>C(m,1,`z-50 flex flex-col gap-1.5 pt-4 -translate-x-4 ${b?"fixed overflow-x-auto bottom-4 max-md:w-screen max-md:left-0 max-md:mb-16 md:left-[50%] md:translate-x-[-50%]":"max-sm:mb-10"}`)),J(e,m),pe()}var ga=z(`<div class="fixed bottom-5 right-5 text-yellow-400 text-sm z-10">Press 'Ctrl + C'<br/>or Go Back 1 pg<br/>to eXit program</div>`),ha=z('<!> <!> <!> <!> <audio preload="auto"></audio>',1);function Ca(e,i){de(i,!0);let t,v=Me(()=>`font-[Jetbrains_Mono] ${_e.value.bg.primary} ${_e.value.text.primary} m-5 mt-14`);ke(()=>{document.body.className=d(v)}),be(()=>{document.body.className=d(v)});function b(u){u.key=="c"&&u.ctrlKey&&(G.value=!1,fe("/mesh-terminal/"))}sa(()=>{Q.includes(j.url.pathname.split("/")[2])&&window.addEventListener("keydown",b)}),be(()=>{t&&(V.value?t.play().catch(u=>console.error("Radio playback failed:",u)):t.pause())});var s=ha(),c=Ye(s);va(c,{});var r=H(c,2);Ce(r,()=>i.children);var m=H(r,2);{var l=u=>{ma(u,{})};ue(m,u=>{G.value&&u(l)})}var g=H(m,2);{var h=u=>{var a=ga();J(u,a)};ue(g,u=>{Q.includes(j.url.pathname.split("/")[2])&&u(h)})}var y=H(g,2);Ze(y,u=>t=u,()=>t),X(()=>Se(y,"src",ra)),J(e,s),pe()}export{Ca as component};
