import{f as J,b as B}from"../chunks/P49aM0Xt.js";import{s as F,h as I,w as he,a5 as me,a as _e,b as ne,B as y,aa as ie,r as be,c as xe,d as j,e as Y,i as C,a0 as ye,f as ue,g as G,p as Ee,a3 as ve,Y as Te,C as q,ab as ee,ac as z,l as ae,ad as ke,ae as He,af as Se,a2 as Ie,ag as Me,ah as oe,ai as $e,aj as Ne,n as Re,E as we,ak as Ae,x as W,t as fe,z as X,D as N,F as H,G as L,u as w,I as A,y as Ce,J as te,A as K,R as Le}from"../chunks/CCO0EpHD.js";import{s as D,e as De,d as Be}from"../chunks/DVhmSmK-.js";import{i as Oe}from"../chunks/BQHgObbS.js";import{i as ce}from"../chunks/BgqkNlm-.js";import{c as O,f as T,r as Z,e as k,g as Je,H as Ke,a as Pe,b as Ve,d as Fe,t as U}from"../chunks/DHngot9c.js";function re(v,e){return e}function Ye(v,e,a,t){for(var f=[],i=e.length,o=0;o<i;o++)Se(e[o].e,f,!0);var g=i>0&&f.length===0&&a!==null;if(g){var m=a.parentNode;Ie(m),m.append(a),t.clear(),M(v,e[0].prev,e[i-1].next)}Me(f,()=>{for(var c=0;c<i;c++){var r=e[c];g||(t.delete(r.k),M(v,r.prev,r.next)),oe(r.e,!g)}})}function se(v,e,a,t,f,i=null){var o=v,g={flags:e,items:new Map,first:null};{var m=v;o=I?F(he(m)):m.appendChild(me())}I&&_e();var c=null,r=!1,h=ie(()=>{var n=a();return Te(n)?n:n==null?[]:ve(n)});ne(()=>{var n=y(h),p=n.length;if(r&&p===0)return;r=p===0;let u=!1;if(I){var x=be(o)===xe;x!==(p===0)&&(o=j(),F(o),Y(!1),u=!0)}if(I){for(var E=null,d,_=0;_<p;_++){if(C.nodeType===8&&C.data===ye){o=C,u=!0,Y(!1);break}var R=n[_],$=t(R,_);d=de(C,g,E,null,R,$,_,f,e,a),g.items.set($,d),E=d}p>0&&F(j())}I||ze(n,g,o,f,e,t,a),i!==null&&(p===0?c?ue(c):c=G(()=>i(o)):c!==null&&Ee(c,()=>{c=null})),u&&Y(!0),y(h)}),I&&(o=C)}function ze(v,e,a,t,f,i,o){var g=v.length,m=e.items,c=e.first,r=c,h,n=null,p=[],u=[],x,E,d,_;for(_=0;_<g;_+=1){if(x=v[_],E=i(x,_),d=m.get(E),d===void 0){var R=r?r.e.nodes_start:a;n=de(R,e,n,n===null?e.first:n.next,x,E,_,t,f,o),m.set(E,n),p=[],u=[],r=n.next;continue}if(Ue(d,x,_),(d.e.f&z)!==0&&ue(d.e),d!==r){if(h!==void 0&&h.has(d)){if(p.length<u.length){var $=u[0],S;n=$.prev;var Q=p[0],P=p[p.length-1];for(S=0;S<p.length;S+=1)le(p[S],$,a);for(S=0;S<u.length;S+=1)h.delete(u[S]);M(e,Q.prev,P.next),M(e,n,Q),M(e,P,$),r=$,n=P,_-=1,p=[],u=[]}else h.delete(d),le(d,r,a),M(e,d.prev,d.next),M(e,d,n===null?e.first:n.next),M(e,n,d),n=d;continue}for(p=[],u=[];r!==null&&r.k!==E;)(r.e.f&z)===0&&(h??(h=new Set)).add(r),u.push(r),r=r.next;if(r===null)continue;d=r}p.push(d),n=d,r=d.next}if(r!==null||h!==void 0){for(var V=h===void 0?[]:ve(h);r!==null;)(r.e.f&z)===0&&V.push(r),r=r.next;var pe=V.length;if(pe>0){var ge=g===0?a:null;Ye(e,V,ge,m)}}ae.first=e.first&&e.first.e,ae.last=n&&n.e}function Ue(v,e,a,t){He(v.v,e),v.i=a}function de(v,e,a,t,f,i,o,g,m,c){var r=(m&$e)!==0,h=(m&Ne)===0,n=r?h?q(f,!1,!1):ee(f):f,p=(m&ke)===0?o:ee(o),u={i:p,v:n,k:i,a:null,e:null,prev:a,next:t};try{return u.e=G(()=>g(v,n,p,c),I),u.e.prev=a&&a.e,u.e.next=t&&t.e,a===null?e.first=u:(a.next=u,a.e.next=u.e),t!==null&&(t.prev=u,t.e.prev=u.e),u}finally{}}function le(v,e,a){for(var t=v.next?v.next.e.nodes_start:a,f=e?e.e.nodes_start:a,i=v.e.nodes_start;i!==t;){var o=Re(i);f.before(i),i=o}}function M(v,e,a){e===null?v.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function qe(v,e,...a){var t=v,f=Ae,i;ne(()=>{f!==(f=e())&&(i&&(oe(i),i=null),i=G(()=>f(t,...a)))},we),I&&(t=C)}var Ge=J('<div id="top-bar" class="bg-neutral-950 rounded-lg border-1 border-gray-500 w-[98%] h-10 fixed top-2 left-1/2 translate-x-[-50%] flex items-center gap-2 pl-4 z-50"><span class="text-gray-500"> </span> <span class="text-gray-400">|</span> <span class="text-gray-400"> </span> <span class="text-gray-400 max-sm:hidden">|</span> <span class="text-gray-500 max-sm:hidden">~</span> <span class="text-gray-500 max-sm:hidden"> </span> <span class="text-gray-400 max-md:hidden">|</span> <span class="text-gray-500 max-md:hidden"> </span></div>');function We(v,e){W(e,!1),ce();var a=Ge(),t=N(a),f=N(t);H(t);var i=L(t,4),o=N(i);H(i);var g=L(i,6),m=N(g);H(g);var c=L(g,4),r=N(c);H(c),H(a),fe(h=>{D(f,`#!${A(T),w(()=>T.SHELL)??""}`),D(o,`${A(T),w(()=>T.TERM)??""} v${A(T),w(()=>T.VERSION)??""}`),D(m,`${A(T),w(()=>T.USER)??""}@${A(T),w(()=>T.HOSTNAME)??""}`),D(r,`Loaded [ ${h??""} ] commands`)},[()=>(A(O),w(()=>Object.keys(O).length))],ie),B(v,a),X()}var l=Z(()=>Pe),b=Z(()=>Fe),s=Z(()=>Ve),Xe=J('<button class="px-3 py-2 text-lg bg-neutral-950 border border-gray-400 rounded-lg text-gray-200 cursor-pointer"> </button>'),Ze=J('<div class="flex gap-1.5"></div>'),Qe=J('<div class="flex flex-col gap-1.5 pt-4 max-sm:mb-10"></div>');function je(v,e){W(e,!1);let a=q(!1),t=q();Ce(()=>{te(t,document.getElementById("outputHistory"))});const f=[["Esc","1","2","3","4","5","6","7","8","9","0","-","="],["Tab","q","w","e","r","t","y","u","i","o","p","[","]"],["Shift","a","s","d","f","g","h","j","k","l",";","'","\\"],["Home","End","z","x","c","v","b","n","m",",",".","/"],["←","↑","↓","→","Space","Enter","Backspace","Del"]],i=[["Esc","!","@","#","₹","%","^","&","*","(",")","_","+"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}"],["Shift","A","S","D","F","G","H","J","K","L",":",'"',"|"],["Home","Nether","Z","X","C","V","B","N","M","<",">","?"],["←","↑","↓","→","Space","Enter","Backspace","Del"]];ce();var o=Qe();se(o,5,()=>y(a)?i:f,re,(g,m)=>{var c=Ze();se(c,5,()=>y(m),re,(r,h)=>{var n=Xe(),p=N(n,!0);H(n),fe(()=>D(p,y(h))),De("click",n,()=>{const u=l().value.trim(),x=u.split(" ");switch(y(h)){case"Backspace":s().value>0&&(l(l().value=l().value.slice(0,s().value-1)+l().value.slice(s().value)),s(s().value--));break;case"Del":s().value<l().value.length&&l(l().value=l().value.slice(0,s().value)+l().value.slice(s().value+1));break;case"Enter":const E=Je();K(t,y(t).innerHTML+=`<pre class="text-gray-200 font-[Jetbrains_Mono]">${E} ${u}</pre>`),u&&(k.value.push(u),k.value.length>Ke&&k.value.shift(),localStorage.setItem("MESh_commandHistory",JSON.stringify(k.value))),b(b().value=-1);const d=x[0]in O?O[x[0]].cmd(x.slice(1)):`MESh: command not found: <span class="text-red-400 font-semibold">${x[0]}</span>`;x[0]!="clear"&&x[0]!=""&&x[0]!="cd"&&K(t,y(t).innerHTML+=`<pre class="sm:break-all sm:whitespace-pre-wrap font-[Jetbrains_Mono]"> &gt&gt ${d}</pre>`),l(l().value=""),s(s().value=0);break;case"←":s().value>0&&s(s().value--);break;case"→":s().value<l().value.length&&s(s().value++);break;case"↑":k.value.length>0&&(b().value===-1?b(b().value=k.value.length-1):b().value>0&&b(b().value--),l(l().value=k.value[b().value]),s(s().value=l().value.length));break;case"↓":k.value.length>0&&b().value!==-1&&(b().value<k.value.length-1?(b(b().value++),l(l().value=k.value[b().value])):(b(b().value=-1),l(l().value="")),s(s().value=l().value.length));break;case"Home":s(s().value=0);break;case"Nether":case"End":s(s().value=l().value.length);break;case"Esc":l(l().value=""),s(s().value=0);break;case"Tab":if(x.length==1&&u){const _=Object.keys(O).filter(R=>R.startsWith(u));_.length===1?(l(l().value=_[0]+" "),s(s().value=l().value.length)):_.length>1?K(t,y(t).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">Suggestions: ${_.join(", ")}</pre>`):K(t,y(t).innerHTML+=`<pre class="text-gray-400 font-[Jetbrains_Mono]">No suggestions found for "${u}"</pre>`)}break;case"Space":l(l().value=l().value.slice(0,s().value)+" "+l().value.slice(s().value)),s(s().value++);break;case"Shift":te(a,!y(a));break;default:y(h).length==1&&(l(l().value=l().value.slice(0,s().value)+y(h)+l().value.slice(s().value)),s(s().value++));break}}),B(r,n)}),H(c),B(g,c)}),H(o),B(v,o),X()}var ea=J('<!> <!> <!> <div class="flex justify-end"><button class="px-3 py-2 text-sm bg-neutral-950 border border-gray-400 rounded-lg text-gray-200 cursor-pointer fixed bottom-4 right-4">Toggle Keyboard</button></div>',1);function ia(v,e){W(e,!0);var a=ea(),t=Le(a);We(t,{});var f=L(t,2);qe(f,()=>e.children);var i=L(f,2);{var o=c=>{je(c,{})};Oe(i,c=>{U.value&&c(o)})}var g=L(i,2),m=N(g);m.__click=()=>U.value=!U.value,H(g),B(v,a),X()}Be(["click"]);export{ia as component};
