import"../chunks/Bzak7iHL.js";import{o as ke,s as Le}from"../chunks/BV_wULoO.js";import{c as re,h as J,Z as Ae,_ as se,a as Oe,b as De,o as u,au as ze,r as Je,H as Pe,s as ge,d as ne,R as Y,T as Ke,av as Fe,aw as be,a2 as Ue,a6 as ie,a8 as Ve,ax as ce,af as Xe,ay as ue,p as q,az as Ge,aA as We,aB as Ye,aC as O,a3 as Ee,a5 as Te,aD as le,U as Ze,aE as qe,a4 as Qe,u as U,aF as je,M as pe,i as z,t as F,k as D,O as me,m as A,n as I,l as H,a0 as we,v as K,j as ea,x as P,A as he,aG as aa}from"../chunks/BwdVtbq4.js";import{i as fe}from"../chunks/D4D5K7ga.js";import{s as Me}from"../chunks/D5CnHGus.js";import{f as g,d as V,s as C,h as oe,i as ta,j as X,t as W,p as Q,c as B,g as ra,H as sa,b as na,e as la,a as oa,k as xe,r as ia}from"../chunks/DoYfpg93.js";import{b as ua}from"../chunks/hsEIx00m.js";import{p as j}from"../chunks/CTZ1SSQA.js";import"../chunks/uB1w-Njh.js";import{i as fa}from"../chunks/DACXiiyL.js";import{g as ve,a as va}from"../chunks/DauYJIVW.js";function _e(a,n){return n}function da(a,n,l){for(var f=[],x=n.length,o,d=n.length,t=0;t<x;t++){let m=n[t];Te(m,()=>{if(o){if(o.pending.delete(m),o.done.add(m),o.pending.size===0){var $=a.outrogroups;de(ce(o.done)),$.delete(o),$.size===0&&(a.outrogroups=null)}}else d-=1},!1)}if(d===0){var p=f.length===0&&l!==null;if(p){var r=l,b=r.parentNode;qe(b),b.append(r),a.items.clear()}de(n,!p)}else o={pending:new Set(n),done:new Set},(a.outrogroups??(a.outrogroups=new Set)).add(o)}function de(a,n=!0){for(var l=0;l<a.length;l++)Qe(a[l],n)}var ye;function $e(a,n,l,f,x,o=null){var d=a,t=new Map;{var p=a;d=J?re(Ae(p)):p.appendChild(se())}J&&Oe();var r=null,b=ze(()=>{var v=l();return Xe(v)?v:v==null?[]:ce(v)}),m,$=!0;function _(){y.fallback=r,ca(y,m,d,n,f),r!==null&&(m.length===0?(r.f&O)===0?Ee(r):(r.f^=O,G(r,null,d)):Te(r,()=>{r=null}))}var e=De(()=>{m=u(b);var v=m.length;let c=!1;if(J){var h=Je(d)===Pe;h!==(v===0)&&(d=ge(),re(d),ne(!1),c=!0)}for(var T=new Set,k=Ue,w=Ve(),S=0;S<v;S+=1){J&&Y.nodeType===Ke&&Y.data===Fe&&(d=Y,c=!0,ne(!1));var N=m[S],R=f(N,S),E=$?null:t.get(R);E?(E.v&&be(E.v,N),E.i&&be(E.i,S),w&&k.skipped_effects.delete(E.e)):(E=pa(t,$?d:ye??(ye=se()),N,R,S,x,n,l),$||(E.e.f|=O),t.set(R,E)),T.add(R)}if(v===0&&o&&!r&&($?r=ie(()=>o(d)):(r=ie(()=>o(ye??(ye=se()))),r.f|=O)),J&&v>0&&re(ge()),!$)if(w){for(const[ae,te]of t)T.has(ae)||k.skipped_effects.add(te.e);k.oncommit(_),k.ondiscard(()=>{})}else _();c&&ne(!0),u(b)}),y={effect:e,items:t,outrogroups:null,fallback:r};$=!1,J&&(d=Y)}function ca(a,n,l,f,x){var R;var o=n.length,d=a.items,t=a.effect.first,p,r=null,b=[],m=[],$,_,e,y;for(y=0;y<o;y+=1){if($=n[y],_=x($,y),e=d.get(_).e,a.outrogroups!==null)for(const E of a.outrogroups)E.pending.delete(e),E.done.delete(e);if((e.f&O)!==0)if(e.f^=O,e===t)G(e,null,l);else{var v=r?r.next:t;e===a.effect.last&&(a.effect.last=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),L(a,r,e),L(a,e,v),G(e,v,l),r=e,b=[],m=[],t=r.next;continue}if((e.f&le)!==0&&Ee(e),e!==t){if(p!==void 0&&p.has(e)){if(b.length<m.length){var c=m[0],h;r=c.prev;var T=b[0],k=b[b.length-1];for(h=0;h<b.length;h+=1)G(b[h],c,l);for(h=0;h<m.length;h+=1)p.delete(m[h]);L(a,T.prev,k.next),L(a,r,T),L(a,k,c),t=c,r=k,y-=1,b=[],m=[]}else p.delete(e),G(e,t,l),L(a,e.prev,e.next),L(a,e,r===null?a.effect.first:r.next),L(a,r,e),r=e;continue}for(b=[],m=[];t!==null&&t!==e;)(p??(p=new Set)).add(t),m.push(t),t=t.next;if(t===null)continue}(e.f&O)===0&&b.push(e),r=e,t=e.next}if(a.outrogroups!==null){for(const E of a.outrogroups)E.pending.size===0&&(de(ce(E.done)),(R=a.outrogroups)==null||R.delete(E));a.outrogroups.size===0&&(a.outrogroups=null)}if(t!==null||p!==void 0){var w=[];if(p!==void 0)for(e of p)(e.f&le)===0&&w.push(e);for(;t!==null;)(t.f&le)===0&&t!==a.fallback&&w.push(t),t=t.next;var S=w.length;if(S>0){var N=o===0?l:null;da(a,w,N)}}}function pa(a,n,l,f,x,o,d,t){var p=(d&We)!==0?(d&Ye)===0?q(l,!1,!1):ue(l):null,r=(d&Ge)!==0?ue(x):null;return{v:p,i:r,e:ie(()=>(o(n,p??l,r??x,t),()=>{a.delete(f)}))}}function G(a,n,l){if(a.nodes)for(var f=a.nodes.start,x=a.nodes.end,o=n&&(n.f&O)===0?n.nodes.start:l;f!==null;){var d=Ze(f);if(o.before(f),f===x)return;f=d}}function L(a,n,l){n===null?a.effect.first=l:n.next=l,l===null?a.effect.last=n:l.prev=n}function ee(a){var n=ue(0);return function(){return arguments.length===1?(U(n,u(n)+1),arguments[0]):(u(n),a())}}var ma=z('<div class="ml-auto pr-4 flex gap-2"><button type="button" title="Toggle Theme"> </button> <button type="button" title="Reload Mesh">üîÑ</button> <button type="button"> </button> <button type="button">Toggle Keyboard</button></div>'),ga=z('<div id="top-bar"><span> </span> <span>|</span> <span> </span> <span>|</span> <span> </span> <!></div>');function ba(a,n){pe(n,!0);let l=we(()=>j.url.pathname.split("/")[2]);var f=ga(),x=A(f),o=A(x);I(x);var d=H(x,2),t=H(d,2),p=A(t,!0);I(t);var r=H(t,2),b=H(r,2),m=A(b,!0);I(b);var $=H(b,2);{var _=e=>{var y=ma(),v=A(y);v.__click=()=>{ta(g().name==="light"?"default":"light")};var c=A(v,!0);I(v);var h=H(v,2);h.__click=()=>location.reload();var T=H(h,2);T.__click=()=>X.value=!X.value;var k=A(T,!0);I(T);var w=H(T,2);w.__click=()=>W.value=!W.value,I(y),F((S,N,R,E,ae,te,Se,Ce,He,Be,Ie,Ne,Re)=>{C(v,1,`p-3 text-sm rounded-md ${S??""} ${N??""} border ${R??""} cursor-pointer`),K(c,E),C(h,1,`p-3 text-sm rounded-md ${ae??""} ${te??""} border ${Se??""} cursor-pointer`),C(T,1,`p-3 text-sm rounded-md ${Ce??""} ${He??""} border ${Be??""} cursor-pointer`),Me(T,"title",`${X.value?"Pause":"Play"} Radio`),K(k,X.value?"‚è∏Ô∏è":"‚ñ∂Ô∏è"),C(w,1,`p-3 text-sm rounded-md ${Ie??""} ${Ne??""} border ${Re??""} cursor-pointer`)},[()=>g().components.keyboardBg,()=>g().components.keyboardBorder,()=>g().text.primary,()=>g().name==="light"?"üï∂Ô∏è":"üí°",()=>g().components.keyboardBg,()=>g().components.keyboardBorder,()=>g().text.primary,()=>g().components.keyboardBg,()=>g().components.keyboardBorder,()=>g().text.primary,()=>g().components.keyboardBg,()=>g().components.keyboardBorder,()=>g().text.primary]),D(e,y)};fe($,e=>{u(l)||e(_)})}I(f),F((e,y,v,c,h,T,k,w)=>{C(f,1,`${e??""} rounded-lg border ${y??""} w-[98%] h-10 fixed top-2 left-1/2 translate-x-[-50%] flex items-center gap-2 pl-4 z-50`),C(x,1,`${v??""} max-sm:hidden`),K(o,`#!${oe.SHELL}`),C(d,1,`${c??""} max-sm:hidden`),C(t,1,h),K(p,u(l)||oe.TERM+" v"+oe.VERSION),C(r,1,`${T??""} max-md:hidden`),C(b,1,`${k??""} max-md:hidden`),K(m,w)},[()=>g().bg.topBar,()=>g().bg.topBarBorder,()=>g().components.topBarText,()=>g().text.secondary,()=>g().text.secondary,()=>g().text.secondary,()=>g().components.topBarText,()=>u(l)?"Ctrl + C to eXit":"Loaded ["+Object.keys(V).length+"] commands"]),D(a,f),me()}je(["click"]);var i=ee(()=>oa),M=ee(()=>la),s=ee(()=>na),Z=ee(()=>W),ha=z("<button> </button>"),xa=z('<div class="flex gap-0.5 sm:gap-1.5"></div>'),_a=z("<div></div>");function ya(a,n){pe(n,!1);let l=q(!1),f=q(!1),x=Q.includes(j.url.pathname.split("/")[2]),o=q();ke(()=>{U(o,document.getElementById("outputHistory"))});const d=[["Esc","1","2","3","4","5","6","7","8","9","0","-","="],["Tab","q","w","e","r","t","y","u","i","o","p","[","]"],["Shift","a","s","d","f","g","h","j","k","l",";","'","\\"],["Home","End","z","x","c","v","b","n","m",",",".","/"],["Ctrl","‚Üê","‚Üë","‚Üì","‚Üí","Space","Enter","Back","Del"]],t=[["Esc","!","@","#","‚Çπ","%","^","&","*","(",")","_","+"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}"],["Shift","A","S","D","F","G","H","J","K","L",":",'"',"|"],["Home","Nether","Z","X","C","V","B","N","M","<",">","?"],["Ctrl","‚Üê","‚Üë","‚Üì","‚Üí","Space","Enter","Back","Del"]];fa();var p=_a();$e(p,5,()=>u(l)?t:d,_e,(r,b)=>{var m=xa();$e(m,5,()=>u(b),_e,($,_)=>{var e=ha(),y=A(e,!0);I(e),F((v,c,h)=>{e.disabled=u(_)=="Ctrl"||u(_)=="c"||u(_)=="C"?!1:u(f),C(e,1,`${u(f)&&!(u(_)=="Ctrl"||u(_)=="c"||u(_)=="C")?"opacity-20 pointer-events-none":"opacity-100"} py-2 px-2.5 sm:px-3 sm:py-2 text-sm sm:text-lg ${v??""} border ${c??""} rounded-lg ${h??""} cursor-pointer`),K(y,u(_))},[()=>g().components.keyboardBg,()=>g().components.keyboardBorder,()=>g().text.primary]),ea("click",e,()=>{const v=i().value.trim(),c=v.split(" ");switch(u(_)){case"Back":s().value>0&&(i(i().value=i().value.slice(0,s().value-1)+i().value.slice(s().value)),s(s().value--));break;case"Del":s().value<i().value.length&&i(i().value=i().value.slice(0,s().value)+i().value.slice(s().value+1));break;case"Enter":const h=g(),T=ra();P(o,u(o).innerHTML+=`<pre class="${h.text.primary} break-all whitespace-pre-wrap font-[Jetbrains_Mono] text-xs sm:text-base">${T} ${v}</pre>`),v&&(B.value.push(v),B.value.length>sa&&B.value.shift(),localStorage.setItem("MESh_commandHistory",JSON.stringify(B.value))),M(M().value=-1);let k;c[0].startsWith("./")&&(Q.includes(c[0].slice(2))?(Z(Z().value=!1),ve(c[0].slice(2)),k=`MESh: launching program <span class="${h.text.warning} font-semibold">${c[0].slice(2)}</span>`):k=`MESh: program not found: <span class="${h.text.error} font-semibold">${c[0].slice(2)}</span>`),c[0]in V?k=V[c[0]].cmd(c.slice(1)):k=`MESh: command not found: <span class="${h.text.error} font-semibold">${c}</span>`,c[0]!="clear"&&c[0]!=""&&c[0]!="cd"&&P(o,u(o).innerHTML+=`<pre class="break-all whitespace-pre-wrap font-[Jetbrains_Mono] text-xs sm:text-base"> &gt&gt ${k}</pre>`),i(i().value=""),s(s().value=0);break;case"‚Üê":s().value>0&&s(s().value--);break;case"‚Üí":s().value<i().value.length&&s(s().value++);break;case"‚Üë":B.value.length>0&&(M().value===-1?M(M().value=B.value.length-1):M().value>0&&M(M().value--),i(i().value=B.value[M().value]),s(s().value=i().value.length));break;case"‚Üì":B.value.length>0&&M().value!==-1&&(M().value<B.value.length-1?(M(M().value++),i(i().value=B.value[M().value])):(M(M().value=-1),i(i().value="")),s(s().value=i().value.length));break;case"Home":s(s().value=0);break;case"Nether":case"End":s(s().value=i().value.length);break;case"Esc":i(i().value=""),s(s().value=0);break;case"Tab":if(c.length==1){const w=g();if(v){const S=Object.keys(V).filter(N=>N.startsWith(v));S.length===1?(i(i().value=S[0]+" "),s(s().value=i().value.length)):S.length>1?P(o,u(o).innerHTML+=`<pre class="${w.text.secondary} font-[Jetbrains_Mono] text-xs sm:text-base break-all whitespace-pre-wrap">Suggestions: ${S.join(", ")}</pre>`):P(o,u(o).innerHTML+=`<pre class="${w.text.secondary} font-[Jetbrains_Mono] text-xs sm:text-base break-all whitespace-pre-wrap">No suggestions found for "${v}"</pre>`)}else P(o,u(o).innerHTML+=`<pre class="${w.text.secondary} font-[Jetbrains_Mono] text-xs sm:text-base break-all whitespace-pre-wrap">Type 'help' for a list of commands</pre>`)}break;case"Space":i(i().value=i().value.slice(0,s().value)+" "+i().value.slice(s().value)),s(s().value++);break;case"Shift":U(l,!u(l));break;case"Ctrl":U(f,!u(f));break;case"c":case"C":if(u(f))if(x){Z(Z().value=!1),ve("/mesh-terminal/");break}else{P(o,u(o).innerHTML+=`<pre class="break-all whitespace-pre-wrap font-[Jetbrains_Mono] text-xs sm:text-base"> &gt&gt ${V.exit.cmd([])}</pre>`),i(i().value=""),s(s().value=0),U(f,!1);break}default:u(_).length==1&&(i(i().value=i().value.slice(0,s().value)+u(_)+i().value.slice(s().value)),s(s().value++));break}}),D($,e)}),I(m),D(r,m)}),I(p),F(()=>C(p,1,`z-50 flex flex-col gap-1.5 pt-4 -translate-x-4 ${x?"fixed overflow-x-auto bottom-4 max-md:w-screen max-md:left-0 max-md:mb-16 md:left-[50%] md:translate-x-[-50%]":"max-sm:mb-10"}`)),D(a,p),me()}var $a=z("<div>Press 'Ctrl + C'<br/>or Go Up 1 page<br/>to eXit program</div>"),ka=z('<!> <!> <!> <!> <audio preload="auto"></audio>',1);function La(a,n){pe(n,!0);const l=g();let f,x=we(()=>`font-[Jetbrains_Mono] ${xe.value.bg.primary} ${xe.value.text.primary} m-5 mt-14`);ke(()=>{document.body.className=u(x)}),he(()=>{document.body.className=u(x)});function o(e){e.key=="c"&&e.ctrlKey&&(W.value=!1,ve("/mesh-terminal/"))}va(()=>{Q.includes(j.url.pathname.split("/")[2])&&window.addEventListener("keydown",o)}),he(()=>{f&&(X.value?f.play().catch(e=>console.error("Radio playback failed:",e)):f.pause())});var d=ka(),t=aa(d);ba(t,{});var p=H(t,2);Le(p,()=>n.children);var r=H(p,2);{var b=e=>{ya(e,{})};fe(r,e=>{W.value&&e(b)})}var m=H(r,2);{var $=e=>{var y=$a();F(()=>C(y,1,`fixed bottom-5 right-5 ${l.text.warning??""} text-sm z-10 p-2 ${l.bg.topBar??""}/90`)),D(e,y)};fe(m,e=>{Q.includes(j.url.pathname.split("/")[2])&&e($)})}var _=H(m,2);ua(_,e=>f=e,()=>f),F(()=>Me(_,"src",ia)),D(a,d),me()}export{La as component};
